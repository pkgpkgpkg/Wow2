<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–î–ª—è –ï–≤—ã ‚ú®</title>
    <style>
        :root {
            --pink: #ffafbd;
            --accent: #ff4d6d;
            --soft-pink: #ffe4e9;
            --gold: #d4af37;
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            overflow: hidden; font-family: 'Helvetica Neue', Arial, sans-serif;
            background: #fffafa;
            -webkit-tap-highlight-color: transparent;
        }

        .screen {
            position: absolute; width: 100%; height: 100%;
            display: flex; flex-direction: column; justify-content: center;
            align-items: center; padding: 20px; box-sizing: border-box;
            text-align: center; 
            transition: all 1s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 10; opacity: 1;
        }

        .hidden { opacity: 0 !important; visibility: hidden; transform: translateY(20px); }

        #step-1 { background: radial-gradient(circle at center, #ffffff 0%, #ffe4e9 100%); }

        .corner-decor {
            position: absolute; width: 100px; height: 100px;
            border: 2px solid var(--accent); opacity: 0.3;
            pointer-events: none;
        }
        .top-left { top: 20px; left: 20px; border-right: none; border-bottom: none; }
        .bottom-right { bottom: 20px; right: 20px; border-left: none; border-top: none; }

        .envelope-wrapper {
            position: relative; padding: 15px;
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(5px);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 20px 40px rgba(255, 77, 109, 0.15);
            animation: floatMain 5s infinite ease-in-out;
        }

        @keyframes floatMain {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(1deg); }
        }

        .envelope-img { width: 70vw; max-width: 280px; border-radius: 12px; display: block; }

        .btn {
            margin-top: 30px; padding: 16px 50px;
            background: linear-gradient(135deg, #ff4d6d, #ff85a1);
            color: white; border-radius: 50px; font-size: 17px;
            font-weight: 600; cursor: pointer; border: none; transition: 0.3s;
            letter-spacing: 0.5px;
        }

        .gift-img-small { width: 140px; height: auto; border-radius: 15px; margin: 20px 0; }

        .card {
            background: white; padding: 30px; border-radius: 35px;
            width: 85%; max-width: 320px;
            box-shadow: 0 25px 50px rgba(255, 175, 189, 0.4);
            border: 1px solid var(--soft-pink);
        }
        .lera-img { width: 130px; height: 130px; border-radius: 50%; object-fit: cover; border: 5px solid #fff; box-shadow: 0 10px 20px rgba(0,0,0,0.1); }

        .sakura-container { position: fixed; top: 0; width: 100%; height: 100%; pointer-events: none; z-index: 3; }
        .petal { position: absolute; background: #ffc0cb; border-radius: 150% 0 150% 0; animation: fall linear forwards; opacity: 0.6; }
        @keyframes fall { 0% { transform: translateY(-50px) rotate(0deg); } 100% { transform: translateY(110vh) rotate(360deg); } }
    </style>
</head>
<body>

    <audio id="music-main" loop preload="auto"><source src="song.mp3" type="audio/mpeg"></audio>

    <div class="sakura-container" id="sakura-field"></div>

    <div id="step-1" class="screen">
        <div class="corner-decor top-left"></div>
        <div class="corner-decor bottom-right"></div>
        <h2 style="color: var(--accent); font-weight: 300; margin-bottom: 30px; letter-spacing: 2px;">–ü–û–°–õ–ê–ù–ò–ï –î–õ–Ø –¢–ï–ë–Ø</h2>
        <div class="envelope-wrapper">
            <img src="con.jpg" class="envelope-img">
        </div>
        <button class="btn" onclick="startExperience()">–û—Ç–∫—Ä—ã—Ç—å</button>
    </div>

    <div id="step-2" class="screen hidden">
        <h2 style="color: var(--accent); font-weight: 400;">–ú–∞–ª–µ–Ω—å–∫–∏–π –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç... üç´</h2>
        <img src="sho.jpg" class="gift-img-small">
        <p style="color: #888; font-size: 14px; max-width: 250px;">–ü—É—Å—Ç—å —ç—Ç–æ—Ç –¥–µ–Ω—å –±—É–¥–µ—Ç —Ç–∞–∫–∏–º –∂–µ —Å–ª–∞–¥–∫–∏–º, –∫–∞–∫ —Ç—ã</p>
        <button class="btn" onclick="nextStep(2, 3)">–õ–∏—Å—Ç–∞—Ç—å –¥–∞–ª—å—à–µ</button>
    </div>

    <div id="step-3" class="screen hidden">
        <h2 style="color: var(--accent); font-weight: 400;">–î–ª—è —Ç–≤–æ–µ–π —É–ª—ã–±–∫–∏ üíê</h2>
        <img src="buk.jpg" class="gift-img-small" style="width: 180px;">
        <button class="btn" onclick="nextStep(3, 4)">–ö–æ–µ-—á—Ç–æ –µ—â—ë...</button>
    </div>

    <div id="step-4" class="screen hidden">
        <div class="card">
            <img src="lera.jpg" class="lera-img">
            <h3 style="color: var(--accent); margin-top: 20px; font-weight: 400;">–ï–≤–∞, —Ç—ã...</h3>
            <div id="compliment-text" style="height: 80px; color: #d63384; font-size: 19px; font-weight: 500; display: flex; align-items: center; justify-content: center; padding: 0 15px;"></div>
            <button class="btn" style="width: 100%;" onclick="showCompliment()">–ï—â—ë! ‚ú®</button>
        </div>
        <p style="color: #bbb; font-size: 12px; margin-top: 30px; text-transform: uppercase; letter-spacing: 2px;">–ö–æ—Å–Ω–∏—Å—å —ç–∫—Ä–∞–Ω–∞ ‚ù§Ô∏è</p>
    </div>

    <script>
        const compliments = [
            "–°–∞–º–∞—è –∫—Ä–∞—Å–∏–≤–∞—è", "–°–∞–º–∞—è –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞—è", "–ü—Ä–æ—Å—Ç–æ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è", "–ù–∞—Å—Ç–æ—è—â–µ–µ —Å–æ–ª–Ω—ã—à–∫–æ",
            "–£–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ –º—É–¥—Ä–∞—è", "–°–∫–∞–∑–æ—á–Ω–æ –æ—á–∞—Ä–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è", "–ú–æ–π –≥–ª–∞–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è",
            "–û–±–ª–∞–¥–∞—Ç–µ–ª—å–Ω–∏—Ü–∞ —Å–∞–º–æ–π –¥–æ–±—Ä–æ–π –¥—É—à–∏", "–ü–æ—Ç—Ä—è—Å–∞—é—â–µ —Å—Ç–∏–ª—å–Ω–∞—è", "–ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ —Ç–∞–ª–∞–Ω—Ç–ª–∏–≤–∞—è",
            "–°–∞–º–æ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ", "–ù–µ–∂–Ω–∞—è, –∫–∞–∫ –ª–µ–ø–µ—Å—Ç–æ–∫ —Ä–æ–∑—ã", "–û—Å–ª–µ–ø–∏—Ç–µ–ª—å–Ω–æ —è—Ä–∫–∞—è",
            "–î–µ–≤—É—à–∫–∞ —Å –º–∞–≥–∏—á–µ—Å–∫–∏–º –≤–∑–≥–ª—è–¥–æ–º", "–ò—Å–∫—Ä–µ–Ω–Ω—è—è –∏ –Ω–∞—Å—Ç–æ—è—â–∞—è", "–ù–µ–ø–æ–≤—Ç–æ—Ä–∏–º–∞—è –≤ –∫–∞–∂–¥–æ–π –¥–µ—Ç–∞–ª–∏",
            "–°–∞–º–∞—è –ø–æ–Ω–∏–º–∞—é—â–∞—è", "–ú–æ–π –ø–æ–≤–æ–¥ –¥–ª—è —É–ª—ã–±–∫–∏", "–í–æ–ø–ª–æ—â–µ–Ω–∏–µ –∂–µ–Ω—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏",
            "–ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ —Ö–∞—Ä–∏–∑–º–∞—Ç–∏—á–Ω–∞—è", "–õ—É—á–µ–∑–∞—Ä–Ω–∞—è –∏ —Ç–µ–ø–ª–∞—è", "–ß—É—Ç–∫–∞—è –∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–∞—è",
            "–ü—Ä–æ—Å—Ç–æ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º–∞—è", "–£–º–Ω–∞—è –∏ –ø—Ä–æ–Ω–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è", "–°–∞–º–∞—è –∑–∞–≥–∞–¥–æ—á–Ω–∞—è",
            "–û–±–≤–æ—Ä–æ–∂–∏—Ç–µ–ª—å–Ω–æ –º–∏–ª–∞—è", "–õ–µ–≥–∫–∞—è –∏ –≤–æ–∑–¥—É—à–Ω–∞—è", "–ü—Ä–µ–¥–µ–ª –º–æ–∏—Ö –º–µ—á—Ç–∞–Ω–∏–π",
            "–°–∞–º–∞—è –∑–∞–±–æ—Ç–ª–∏–≤–∞—è", "–°–º–µ–ª–∞—è –∏ —Ä–µ—à–∏—Ç–µ–ª—å–Ω–∞—è", "–•—Ä—É–ø–∫–∞—è –∏ –∏–∑—è—â–Ω–∞—è",
            "–î—É—à–∞ –ª—é–±–æ–π –∫–æ–º–ø–∞–Ω–∏–∏", "–û–±–ª–∞–¥–∞—Ç–µ–ª—å–Ω–∏—Ü–∞ –±–µ–∑—É–ø—Ä–µ—á–Ω–æ–≥–æ –≤–∫—É—Å–∞", "–ú–æ–π —Å–∞–º—ã–π –±–ª–∏–∑–∫–∏–π —á–µ–ª–æ–≤–µ–∫",
            "–£–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ –≥–∞—Ä–º–æ–Ω–∏—á–Ω–∞—è", "–ó–∞–≤–æ—Ä–∞–∂–∏–≤–∞—é—â–µ –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞—è", "–≠–Ω–µ—Ä–≥–∏—á–Ω–∞—è –∏ –∂–∏–≤–∞—è",
            "–°–∞–º–∞—è –Ω–∞–¥–µ–∂–Ω–∞—è", "–ü–æ—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ –≥—Ä–∞—Ü–∏–æ–∑–Ω–∞—è", "–†–µ–¥–∫–∏–π –±—Ä–∏–ª–ª–∏–∞–Ω—Ç",
            "–°–∞–º–∞—è –∂–∏–∑–Ω–µ—Ä–∞–¥–æ—Å—Ç–Ω–∞—è", "–ü—Ä–∏–º–µ—Ä –¥–ª—è –ø–æ–¥—Ä–∞–∂–∞–Ω–∏—è", "–ß—Ä–µ–∑–≤—ã—á–∞–π–Ω–æ —ç—Ä—É–¥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è",
            "–ì–ª–æ—Ç–æ–∫ —Å–≤–µ–∂–µ–≥–æ –≤–æ–∑–¥—É—Ö–∞", "–°–∞–º–∞—è –∏—Å–∫—Ä–µ–Ω–Ω—è—è", "–î–µ–≤—É—à–∫–∞ —Å –∑–æ–ª–æ—Ç—ã–º —Å–µ—Ä–¥—Ü–µ–º",
            "–ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –ø—Ä–∏—Ç—è–≥–∞—Ç–µ–ª—å–Ω–∞—è", "–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è –∏ —á–µ—Å—Ç–Ω–∞—è", "–ú–æ—è —Å–∞–º–∞—è –±–æ–ª—å—à–∞—è —Ä–∞–¥–æ—Å—Ç—å",
            "–õ—É—á—à–µ–µ, —á—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏"
        ];
        
        let cIdx = 0;

        function startExperience() {
            const mainM = document.getElementById('music-main');
            mainM.volume = 0.5;
            mainM.play().catch(e => console.log("Music play blocked"));
            nextStep(1, 2);
            startSakura();
        }

        function nextStep(cur, nxt) {
            document.getElementById(`step-${cur}`).classList.add('hidden');
            setTimeout(() => {
                document.getElementById(`step-${cur}`).style.display = 'none';
                document.getElementById(`step-${nxt}`).style.display = 'flex';
                setTimeout(() => {
                    document.getElementById(`step-${nxt}`).classList.remove('hidden');
                }, 50);
            }, 800);
            if(nxt === 4) showCompliment();
        }

        function showCompliment() {
            const el = document.getElementById('compliment-text');
            el.style.opacity = 0;
            setTimeout(() => {
                el.innerText = compliments[cIdx];
                cIdx = (cIdx + 1) % compliments.length;
                el.style.opacity = 1;
            }, 300);
        }

        function startSakura() {
            setInterval(() => {
                const p = document.createElement('div');
                p.className = 'petal';
                p.style.left = Math.random() * 100 + 'vw';
                const s = (Math.random() * 7 + 8) + 'px';
                p.style.width = s; p.style.height = s;
                const d = Math.random() * 5 + 5;
                p.style.animationDuration = d + 's';
                document.getElementById('sakura-field').appendChild(p);
                setTimeout(() => p.remove(), d * 1000);
            }, 600);
        }

        function createHeart(x, y) {
            const h = document.createElement('div');
            h.innerHTML = '‚ù§Ô∏è';
            h.style.position = 'fixed'; 
            h.style.left = x + 'px'; 
            h.style.top = y + 'px';
            h.style.zIndex = '120000';
            h.style.pointerEvents = 'none';
            h.style.fontSize = (Math.random() * 10 + 20) + 'px';
            document.body.appendChild(h);
            h.animate([
                { opacity: 1, transform: 'scale(1) translateY(0)' },
                { opacity: 0, transform: 'scale(1.5) translateY(-100px)' }
            ], 1000);
            setTimeout(() => h.remove(), 1000);
        }

        document.addEventListener('mousedown', (e) => createHeart(e.pageX, e.pageY));
        document.addEventListener('touchstart', (e) => createHeart(e.touches[0].pageX, e.touches[0].pageY));
    </script>
</body>
</html>

